!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).CesiumPro={})}(this,(function(e){"use strict";class r extends Error{constructor(e){super(e),this.name="CesiumProError"}}function t(e){return null!=e}const n={get:function(e="EPSG:3857",t){const n=e.toUpperCase();if("EPSG:3857"===n)return new Cesium.WebMercatorTilingScheme(t);if("EPSG:4326"===n)return new Cesium.GeographicTilingScheme(t);throw new r("未知的坐标系.")}},i=/((?:.*\/)|^)CesiumPro\.js(?:\?|#|$)/;let o,u,s;function a(e){return"undefined"==typeof document?e:(t(o)||(o=document.createElement("a")),o.href=e,o.href=o.href,o.href)}function c(e){return a(`../${e}`)}function l(){if(t(u))return u;let e;if(e="undefined"!=typeof CESIUMPRO_BASE_URL?CESIUMPRO_BASE_URL:"object"==typeof window.define&&t(window.define.amd)&&!window.define.amd.toUrlUndefined?Cesium.getAbsoluteUri("..","core/Url.js"):function(){const e=document.getElementsByTagName("script");for(let r=0,t=e.length;r<t;++r){const t=e[r].getAttribute("src"),n=i.exec(t);if(null!==n)return n[1]}}(),!t(e))throw new r("Unable to determine CesiumPro base URL automatically, try defining a global variable called CESIUMPRO_BASE_URL.");return t(e)||(e=""),u=new Cesium.Resource({url:a(e)}),u.appendForwardSlash(),u}function d(e){return l().getDerivedResource({url:e}).url}const f={join:function(...e){const r=[];for(let t of e)t.startsWith("/")&&(t=t.substring(1)),t.endsWith("/")&&(t=t.substring(0,t.length-1)),r.push(t);return r.join("/")}};f.buildModuleUrl=function(e){return r=e,t(s)||(s="object"==typeof window.define&&t(window.define.amd)&&!window.define.amd.toUrlUndefined?c:d),s(r);var r};class m extends Cesium.UrlTemplateImageryProvider{constructor(e){super(e)}get url(){return super.url}get ready(){return super.ready}get readyPromise(){return super.readyPromise}get tilingScheme(){return super.tilingScheme}pickFeatures(e,r,t,n,i){return super.pickFeatures(e,r,t,n,i)}requestImage(e,r,t,n){return super.requestImage(e,r,t,n)}}function p(){return new m({url:f.buildModuleUrl("assets/tiles/{z}/{x}/{y}.png")})}class x extends Cesium.Viewer{constructor(e,r={}){super(e,r=Object.assign({animation:!1,timeline:!1,geocoder:!1,homeButton:!1,navigationHelpButton:!1,baseLayerPicker:!1,fullscreenElement:"cesiumContainer",fullscreenButton:!1,shouldAnimate:!0,infoBox:!1,selectionIndicator:!1,sceneModePicker:!1,shadows:!1,imageryProvider:p(),contextOptions:{webgl:{alpha:!0,depth:!1,stencil:!0,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0,failIfMajorPerformanceCaveat:!0},allowTextureFilterAnisotropic:!0}},r)),this._options=r}get container(){return this._container}}e.CesiumProError=r,e.PbfDataSource=function(){},e.Url=f,e.VERSION="1.0.3",e.Viewer=x,e.XYZLayer=m,e._shaderLine=function(){},e.createDefaultLayer=p,e.createGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)}))},e.defined=t,e.proj=n,Object.defineProperty(e,"__esModule",{value:!0})}));
